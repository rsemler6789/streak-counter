!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).streakCounter={})}(this,function(e){function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}var n="streak";e.streakCounter=function(e,r){var a,o,i,s,c,l,f=e.getItem(n);if(f)try{var u=JSON.parse(f||""),g=(a=u.lastLoginDate,o=r.toDateString(),i=new Date(a),s=new Date(o),c=Math.abs(s.getTime()-i.getTime()),0===(l=Math.ceil(c/864e5))?"nothing":1===l?"increment":"reset");if("increment"===g){var p=u.currentCount+1;u=t({},u,{lastLoginDate:r.toLocaleDateString("en-US"),currentCount:p})}else"reset"===g&&(u=t({},u,{lastLoginDate:r.toLocaleDateString("en-US"),currentCount:1}));return e.setItem(n,JSON.stringify(u)),u}catch(e){console.error("Failed to parse streak from localStorage")}var S={currentCount:1,startDate:r.toLocaleDateString("en-US"),lastLoginDate:r.toLocaleDateString("en-US")};return e.setItem(n,JSON.stringify(S)),S}});
//# sourceMappingURL=index.umd.js.map
