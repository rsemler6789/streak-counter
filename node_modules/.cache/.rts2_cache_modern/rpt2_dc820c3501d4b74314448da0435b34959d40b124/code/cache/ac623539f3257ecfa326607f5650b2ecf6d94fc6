{"code":"export const key = \"streak\";\r\nexport function dayDiff(date1, date2) {\r\n    const date1AsDate = new Date(date1);\r\n    const date2AsDate = new Date(date2);\r\n    const diffTime = Math.abs(date2AsDate.getTime() - date1AsDate.getTime());\r\n    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n}\r\nexport function shouldIncrement(inputDate, currentStoredDate) {\r\n    const dateDiff = dayDiff(currentStoredDate, inputDate.toDateString());\r\n    if (dateDiff === 0)\r\n        return 'nothing';\r\n    return dateDiff === 1 ? 'increment' : 'reset';\r\n}\r\nexport function buildStreak(storage, inputStreak) {\r\n    let streak;\r\n    const streakInLocalStorage = storage.getItem(key);\r\n    if (streakInLocalStorage) {\r\n        try {\r\n            streak = JSON.parse(streakInLocalStorage || \"\");\r\n            streak = {\r\n                ...streak,\r\n                ...inputStreak\r\n            };\r\n            storage.setItem(key, streak);\r\n        }\r\n        catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    return streak;\r\n}\r\n//# sourceMappingURL=lib.js.map","references":[],"map":"{\"version\":3,\"file\":\"lib.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/lib.ts\"],\"names\":[],\"mappings\":\"AAOA,MAAM,CAAC,MAAM,GAAG,GAAG,QAAQ,CAAA;AAE3B,MAAM,UAAU,OAAO,CAAC,KAAa,EAAE,KAAa;IAChD,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAA;IACnC,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,CAAA;IACnC,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC,CAAC;IACzE,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AACvD,CAAC;AAGD,MAAM,UAAU,eAAe,CAAC,SAAe,EAAE,iBAAyB;IACtE,MAAM,QAAQ,GAAG,OAAO,CAAC,iBAAiB,EAAE,SAAS,CAAC,YAAY,EAAE,CAAC,CAAC;IACtE,IAAG,QAAQ,KAAK,CAAC;QAAE,OAAO,SAAS,CAAC;IACpC,OAAO,QAAQ,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC;AAClD,CAAC;AAED,MAAM,UAAU,WAAW,CAAC,OAAgB,EAAE,WAA4B;IACtE,IAAI,MAAM,CAAC;IACX,MAAM,oBAAoB,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAClD,IAAI,oBAAoB,EAAE;QACtB,IAAI;YACJ,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,oBAAoB,IAAI,EAAE,CAAC,CAAC;YAChD,MAAM,GAAG;gBACL,GAAG,MAAM;gBACT,GAAG,WAAW;aACjB,CAAA;YACD,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,CAAC,CAAA;SAC3B;QAAC,OAAM,KAAK,EAAE;YACX,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACxB;KACJ;IACD,OAAO,MAAM,CAAC;AAClB,CAAC\"}","dts":{"name":"C:/Users/User/Desktop/Project/streak-counter/dist/lib.d.ts","writeByteOrderMark":false,"text":"export interface Streak {\r\n    currentCount: number;\r\n    startDate: string;\r\n    lastLoginDate: string;\r\n}\r\nexport declare const key = \"streak\";\r\nexport declare function dayDiff(date1: string, date2: string): number;\r\nexport declare function shouldIncrement(inputDate: Date, currentStoredDate: string): 'increment' | 'reset' | 'nothing';\r\nexport declare function buildStreak(storage: Storage, inputStreak: Partial<Streak>): Streak;\r\n"}}
